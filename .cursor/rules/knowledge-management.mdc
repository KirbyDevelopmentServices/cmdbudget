---
description: 
globs: 
alwaysApply: true
---
---
description: Guidelines for managing knowledge base and rules files
globs: ["ai_files/KB.AI", "ai_files/RULES.AI", "product/PRD.md", "product/features/*/*.md", "product/features/*/user_stories/*.md", "product/ROADMAP.md", "product/FIXED.md"]
alwaysApply: true
---

# Knowledge and Rules Management

This rule provides guidance on when and how to update the knowledge base, rules files, and product documentation.

## Role Specific Documentation
Different roles maintain different aspects of documentation:

- **Technical Developer**: Maintains technical KB.AI entries, code-related rules, and technical notes
- **Product Manager Lead**: Maintains PRD.md, feature overviews, user stories, and product planning documentation

Always ensure documentation updates match your current active role.

## Knowledge Base (KB.AI)
Add or update information in KB.AI when:
- Learning about new architectural components
- Documenting implementation details
- Recording technical specifications
- Describing feature implementations
- Documenting implementation challenges and solutions
- Understanding code design patterns in use

The knowledge base should focus on factual information about the project structure, components, and implementation details. It should answer "what is" and "how does it work" questions.

## Rules Documentation (RULES.AI)
Add or update information in RULES.AI when:
- Establishing new coding conventions
- Defining file tagging requirements
- Creating special handling guidelines
- Adding best practices specific to the project
- Setting expectations for code organization and style

Rules should focus on prescriptive guidance - standards, conventions, and expectations. They should answer "how should" questions.

## Product Requirements Document (product/PRD.md)
Update the PRD when:
- Defining new product features or user stories
- Establishing product vision and scope
- Prioritizing feature implementation
- Documenting user personas and their needs
- Tracking high-level progress of feature implementation

The PRD should focus on the "what" and "why" of the product from a user and business perspective.

## Feature Documentation
Feature documentation follows this structure:
```
/product/features/<feature_name>/
  ├── overview.md           # High-level overview of the feature
  └── user_stories/         # Directory containing user stories
      ├── story1.md         # Individual user story files
      ├── story2.md
      └── ...
```

### Feature Overview (overview.md)
Create or update feature overview documents when:
- Adding a new feature to the product roadmap
- Providing a high-level summary of feature requirements
- Defining the general scope of a feature
- Listing major tasks required for implementation

### User Stories (user_stories/*.md)
Create or update user stories when:
- Breaking down a feature into specific user-centered requirements
- Defining acceptance criteria for a feature component
- Detailing a specific user flow or functionality
- Documenting edge cases and special considerations

User stories should be written from a product perspective without technical implementation details.

## Roadmap (product/ROADMAP.md)
Update the roadmap when:
- Planning long-term feature development
- Setting priorities for upcoming work
- Tracking progress on planned features
- Adjusting timelines based on current development status

## Fixed Issues (product/FIXED.md)
Document in FIXED.md when:
- Fixing a bug in the codebase
- Resolving a design issue
- Addressing a technical debt item
- Include details about the problem, solution, and prevention measures

## Cursor Rules
Create cursor rules when:
- A pattern or convention needs to be frequently referenced
- A concept requires strict compliance across the project
- You need quick access to specific guidelines
- A rule needs to be applied to specific file types

Cursor rules should be concise, focused on a single topic, and reference KB.AI or RULES.AI for deeper details.

## Updating Process
1. When encountering new information, determine if it belongs in KB.AI, RULES.AI, PRD.md, or a feature documentation
2. Update the appropriate file
3. Consider creating a cursor rule if the information requires frequent reference
4. Keep all files organized by topic with clear sections and headers